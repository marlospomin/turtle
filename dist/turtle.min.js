!function(e,n){if("function"==typeof define&&define.amd)define(["module","exports"],n);else if("undefined"!=typeof exports)n(module,exports);else{var t={exports:{}};n(t,t.exports),e.turtle=t.exports}}(this,function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){function e(e){a=new IntersectionObserver(s,o),e.forEach(function(e){e.classList.contains("turtle--handled")||a.observe(e)})}function n(e){return new Promise(function(n,t){var o=new Image;o.src=e,o.onload=n,o.onerror=t})}function r(e){var t=e.dataset.src;if(t)return n(t).then(function(){u(e,t)})}function i(e){e.forEach(function(e){r(e)})}function c(){a&&a.disconnect()}function s(e){0===f&&c(),e.forEach(function(e){e.intersectionRatio>0&&(f--,a.unobserve(e.target),r(e.target))})}function u(e,n){e.classList.add("turle--handled"),e.src=n}var f=t.length,a=void 0;"IntersectionObserver"in window?e(t):i(t)};var t=document.querySelectorAll(".turtle"),o={rootMargin:"50px 0px",threshold:0};e.exports=n.default});