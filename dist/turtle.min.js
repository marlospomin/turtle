"use strict";function fetchImage(e){return new Promise(function(n,a){var r=new Image;r.src=e,r.onload=n,r.onerror=a})}function preloadImage(e){var n=e.dataset.src;if(n)return fetchImage(n).then(function(){applyImage(e,n)})}function loadImagesImmediately(e){for(var n=0;n<e.length;n++){preloadImage(e[n])}}function disconnect(){observer&&observer.disconnect()}function onIntersection(e){0===imageCount&&observer.disconnect();for(var n=0;n<e.length;n++){var a=e[n];a.intersectionRatio>0&&(imageCount--,observer.unobserve(a.target),preloadImage(a.target))}}function applyImage(e,n){e.classList.add("lazyload--handled"),e.src=n,e.classList.add("fade-in")}var images=document.querySelectorAll(".lazyload"),config={rootMargin:"50px 0px",threshold:.01},imageCount=images.length,observer=void 0;if("IntersectionObserver"in window){observer=new IntersectionObserver(onIntersection,config);for(var i=0;i<images.length;i++){var image=images[i];image.classList.contains("lazyload--handled")||observer.observe(image)}}else loadImagesImmediately(images);