"use strict";function fetchImage(e){return new Promise(function(n,r){var t=new Image;t.src=e,t.onload=n,t.onerror=r})}function preloadImage(e){var n=e.dataset.src;if(n)return fetchImage(n).then(function(){applyImage(e,n)})}function loadImagesImmediately(e){for(var n=0;n<e.length;n++){preloadImage(e[n])}}function disconnect(){observer&&observer.disconnect()}function onIntersection(e){0===imageCount&&disconnect();for(var n=0;n<e.length;n++){var r=e[n];r.intersectionRatio>0&&(imageCount--,observer.unobserve(r.target),preloadImage(r.target))}}function applyImage(e,n){e.classList.add("turle--handled"),e.src=n,e.classList.add("fade-in")}var images=document.querySelectorAll(".turtle"),config={rootMargin:"50px 0px",threshold:0},imageCount=images.length,observer=void 0;if("IntersectionObserver"in window){observer=new IntersectionObserver(onIntersection,config);for(var i=0;i<images.length;i++){var image=images[i];image.classList.contains("turtle--handled")||observer.observe(image)}}else loadImagesImmediately(images);